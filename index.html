<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    
    <title>Gazetteer</title>

    <!-- <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script> -->

    <!-- Favicon Icon--> <!-- TODO Icon doesnt seem to work-->
    <!-- <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest"> -->
    

    
    <!-- Bootstrap--> <!-- NOTE Make sure to import both this and the script line below -->
    <link rel="stylesheet" href="vendors/bootstrap-5.3.3-dist/css/bootstrap.min.css">

    <!-- Leaflet Import-->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
    crossorigin=""/>

    <!-- Marker Cluster-->
    <link rel="stylesheet" href="vendors/Leaflet.markercluster-1.4.1/dist/MarkerCluster.css">
    <link rel="stylesheet" href="vendors/Leaflet.markercluster-1.4.1/dist/MarkerCluster.Default.css">
    
    <!-- Leaflet Markers-->
    <link rel="stylesheet" href="vendors/Leaflet.ExtraMarkers-master/dist/css/leaflet.extra-markers.min.css">
    
    <!-- Easy Button-->
    <link rel="stylesheet" href="./node_modules/leaflet-easybutton/src/easy-button.css">

    <!-- CSS Import-->
    <link rel="stylesheet" href="libraries/css/style.css">

</head>
<body>
    <!-- <div id="preloader"></div> -->

    <span id="selectContainer">
        <select id="countrySelect" class="form-select shadow-sm">
                   
        </select>
        
      </span>
      <!-- populate from an AJAX CALL to a PHP routine that returns a JSON object that is an array of just ISO codes and names from countryBorders.geo.json -->
      
      <div id="map"></div>

      <!-- data-bs-keyboard="false" this makes it so you cant close the modal !!-->

      <!-- Population Modal-->

      <div id="countryInfoModal" class="modal fade" data-bs-backdrop="false" data-bs-backdrop="false"  tabindex="-1" data-bs-backdrop="false" aria-labelledby="countryInfoModalLabel" aria-hidden="true">  
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">          
          <div class="modal-content shadow">            
            <div class="modal-header bg-success bg-gradient text-white">
              <h5 class="modal-title"><i class="fa-solid fa-circle-info fa-xl me-2"></i>At a glance</h5>
              <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>            
            <div class="modal-body">              
              <div id="pre-load"></div>              
              <table class="table table-striped">                
                <tr>      
                  <td class="text-center col-2">
                    <i class="fa-solid fa fa-landmark-flag fa-xl text-success"></i>
                  </td>      
                  <td class="text-nowrap"> 
                    Capital city
                  </td>      
                  <td id="capitalCity" class="text-end"> 
                  </td>      
                </tr>
                <tr>      
                  <td class="text-center">
                    <i class="fa-solid fa fa-globe fa-xl text-success"></i>
                  </td>      
                  <td>
                    Continent
                  </td>      
                  <td id="continent" class="text-end">              
                  </td>      
                </tr>
                <tr>      
                  <td class="text-center">
                    <i class="fa-solid fa fa-deaf fa-xl text-success"></i>
                  </td>      
                  <td>
                    Languages
                  </td>      
                  <td id="languages" class="text-end">
                  </td>      
                </tr>
                <tr>      
                  <td class="text-center">
                    <i class="fa-solid fa fa-coins fa-xl text-success"></i>
                  </td>      
                  <td>
                    Currency
                  </td>      
                  <td id="currency" class="text-end">
                  </td>      
                </tr>
                <tr>      
                  <td class="text-center">
                    <i class="fa-solid fa fa-bars fa-xl text-success"></i>
                  </td>      
                  <td class="text-nowrap">
                    ISO alpha 3
                  </td>      
                  <td id="isoAlpha3" class="text-end">
                  </td>      
                </tr>
                <tr>      
                  <td class="text-center">
                    <i class="fa-solid fa fa-male fa-xl text-success"></i>
                  </td>      
                  <td>
                    Population
                  </td>      
                  <td id="population" class="text-end">
                  </td>      
                </tr>
                <tr>      
                  <td class="text-center">
                    <i class="fa-solid fa fa-ruler-combined fa-xl text-success"></i>
                  </td>      
                  <td class="text-nowrap">
                    Area (km<sup>2</sup>)
                  </td>      
                  <td id="areaInSqKm" class="text-end">
                  </td>      
                </tr>
                <tr>      
                  <td class="text-center">
                    <i class="fa-solid fa fa-envelope fa-xl text-success"></i>
                  </td>      
                  <td class="text-nowrap">
                    Postal code format
                  </td>      
                  <td id="postalCodeFormat" class="text-end">                    
                  </td>      
                </tr>      
              </table>              
            </div>            
            <div class="modal-footer">
              <button type="button" class="btn btn-outline-success btn-sm" data-bs-dismiss="modal">Close</button>
            </div>            
          </div>          
        </div>        
      </div>

      <!-- News Modal -->

      <div id="newsModal" class="modal fade" tabindex="-1" data-bs-backdrop="false" aria-labelledby="exampleModalLabel" aria-hidden="true">        
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">             
          <div class="modal-content shadow">            
            <div class="modal-header bg-danger bg-gradient text-white">
              <h5 class="modal-title">BREAKING NEWS</h5>
              <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>      
            <div class="modal-body">              
                <!-- first item -->           
              <table class="table table-borderless">                     
                <tr>      
                  <td rowspan="2" width="50%">
                    <img id="topStory1Image" class="img-fluid rounded" src="" alt="" title="">
                  </td>                  
                  <td>
                    <a id="topStoryTitle1" href="" class="fw-bold fs-6 text-black" target="_blank"></a>
                  </td>                  
                </tr>                
                <tr>                             
                  <td class="align-bottom pb-0">                    
                    <p id="topStory1Source" class="fw-light fs-6 mb-1"></p>                    
                  </td>                              
                </tr>                
              </table>              
              <hr>              
              <!-- second item -->              
              <table class="table table-borderless mb-0">               
                <tr>      
                  <td rowspan="2" width="50%">
                    <img id="topStory2Image" class="img-fluid rounded" src="https://ichef.bbci.co.uk/news/240/cpsprodpb/669D/production/_130096262_img_5432.jpg" alt="" title="">
                  </td>                  
                  <td>
                    <a id="topStoryTitle2" href="https://www.bbc.co.uk/news/uk-scotland-glasgow-west-65894201" class="fw-bold fs-6 text-black" target="_blank">Parents 'devastated' as blunder leaves village 1,000 school places short</a>
                  </td>                  
                </tr>                
                <tr>                             
                  <td class="align-bottom pb-0">                    
                    <p id="topStory2Source" class="fw-light fs-6 mb-1">BBC News</p>                    
                  </td>                             
                </tr>                
              </table>             
              <hr>             
              <!-- third item -->              
              <table class="table table-borderless mb-0">                    
                <tr>      
                  <td rowspan="2" width="50%">
                    <img id="topStory3Image" class="img-fluid rounded" src="https://ichef.bbci.co.uk/news/240/cpsprodpb/1084B/production/_130095676_p0fv8hdd.jpg" alt="" title="">
                  </td>                  
                  <td>
                    <a id="topStoryTitle3" href="https://www.bbc.co.uk/news/av/world-australia-65912350" class="fw-bold fs-6 text-black" target="_blank">Watch: Tourist fights off feisty kangaroo in Australia</a>
                  </td>                  
                </tr>                
                <tr>                             
                  <td class="align-bottom pb-0">                    
                    <p id="topStory3Source" class="fw-light fs-6 mb-1">BBC News</p>                    
                  </td>                              
                </tr>            
              </table>     
              <hr>              
              <!-- fourth item -->              
              <table class="table table-borderless mb-0">                       
                <tr>      
                  <td rowspan="2" width="50%">
                    <img id="topStory4Image" class="img-fluid rounded" src="https://ichef.bbci.co.uk/news/240/cpsprodpb/419D/production/_130079761_whatsubject.jpg" alt="" title="">
                  </td>                  
                  <td>
                    <a id="topStoryTitle4" href="https://www.bbc.co.uk/news/business-65861096" class="fw-bold fs-6 text-black" target="_blank">Is the US trying to kill crypto?</a>
                  </td>                  
                </tr>               
                <tr>                             
                  <td class="align-bottom pb-0">                    
                    <p id="topStory4Source" class="fw-light fs-6 mb-1">BBC News</p>                    
                  </td>                             
                </tr>                          
              </table>
              <hr>
              <!-- fifth item -->
              <table class="table table-borderless mb-0">                    
                <tr>      
                  <td rowspan="2" width="50%">
                    <img id="topStory5Image" class="img-fluid rounded" src="https://ichef.bbci.co.uk/news/240/cpsprodpb/1084B/production/_130095676_p0fv8hdd.jpg" alt="" title="">
                  </td>                  
                  <td>
                    <a id="topStoryTitle5" href="https://www.bbc.co.uk/news/av/world-australia-65912350" class="fw-bold fs-6 text-black" target="_blank">Watch: Tourist fights off feisty kangaroo in Australia</a>
                  </td>                  
                </tr>                
                <tr>                             
                  <td class="align-bottom pb-0">                    
                    <p id="topStory5Source" class="fw-light fs-6 mb-1">BBC News</p>                    
                  </td>                              
                </tr>            
              </table>                  
            </div>      
            <div class="modal-footer">
              <button type="button" class="btn btn-outline-secondary btn-sm" data-bs-dismiss="modal">Close</button>
            </div>       
          </div>          
        </div>        
      </div>

      <!-- Weather Modal --> <!-- TODO Add in wind speed and any other info-->

      <div id="weatherModal" class="modal fade" tabindex="-1" data-bs-backdrop="false"  aria-labelledby="weatherModalLabel" aria-hidden="true">    
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">          
          <div class="modal-content shadow">                    
            <div class="modal-header bg-primary bg-gradient text-white">
                <h5>Weather Forecast</h5>      
              <h5 class="modal-title" id="weatherModalLabel"></h5>
              <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>      
            </div>      
            <div class="modal-body">              
              <div id="pre-load"></div>      
              <div class="row">      
                <div class="col border m-2">      
                  <p class="fw-bold fs-5 mt-1">TODAY</p>                  
                  <div class="row">                    
                    <div class="col text-center m-3">                      
                      <p id="todayConditions" class="fw-bold fs-6"></p>                        
                    </div>                    
                    <div class="col text-center">                      
                      <img id="todayIcon" class="img-fluid mt-0" src="" alt="" title="">                        
                    </div>                    
                    <div class="col text-center">                      
                      <p class="fw-bold fs-4 mb-0"><span id="todayMaxTemp">3</span><sup>o</sup><span class="tempMetric">c</span></p>
                      <p class="fs-5 mt-0 text-secondary"><span id="todayMinTemp">-2</span><sup>o</sup><span class="tempMetric">c</span></p>                        
                    </div>                 
                  </div>      
                </div>        
              </div>      
              <div class="row">      
                <div class="col border m-2">                  
                  <div class="row">                    
                    <div class="col text-center">      
                      <p id="day1Date" class="fw-bold fs-6 mt-3"></p>                      
                    </div>                    
                  </div>                  
                  <div class="row">                    
                    <div class="col text-center">                      
                      <p class="fw-bold fs-4 mb-0"><span id="day1MaxTemp"></span><sup>o</sup>c</p>
                      <p class="fs-5 mt-0 text-secondary"><span id="day1MinTemp"></span><sup>o</sup>c</p>                      
                    </div>                    
                    <div class="col text-center">                      
                      <img id="day1Icon" src="" alt="" title="">                      
                    </div>                        
                  </div>                  
                </div>       
                <div class="col border m-2">      
                  <div class="row">                    
                    <div class="col text-center">      
                      <p id="day2Date" class="fw-bold fs-6 mt-3"></p>                      
                    </div>                    
                  </div>                  
                  <div class="row">                    
                    <div class="col text-center">                      
                      <p class="fw-bold fs-4 mb-0"><span id="day2MaxTemp"></span><sup>o</sup>c</p>
                      <p class="fs-5 mt-0 text-secondary"><span id="day2MinTemp"></span><sup>o</sup>c</p>                      
                    </div>                    
                    <div class="col text-center">                      
                      <img id="day2Icon" src="" alt="" title="">                      
                    </div>                        
                  </div>                  
                </div>        
             </div>             
            </div>            
            <div class="modal-footer">
              <p class="fs-6 fw-light">Last updated <span id="lastUpdated"></span>. Powered by <a href="https://www.weatherapi.com/" target="_blank" title="Free Weather API">WeatherAPI.com</a></p>
            </div>      
          </div>            
        </div>        
      </div>


      <!-- Currency Convertor Modal -->

      <div id="currencyModal" class="modal fade" tabindex="-1" data-bs-backdrop="false"  aria-labelledby="currencyModalLabel" aria-hidden="true">
        <!--   the last two classes centre the modal and, if the content is too long, ensures  -->
        <!--   that the header and footer are always on display by making the body scroll -->      
        <div class="modal-dialog modal-sm modal-dialog-centered modal-dialog-scrollable">      
          <div class="modal-content shadow">      
            <div class="modal-header bg-secondary bg-gradient text-white">
              <h5 class="modal-title">Currency calculator</h5>
              <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>      
            <div class="modal-body">      
              <form>      
                <div class="form-floating mb-3">      
                  <input id="fromAmount" type="number" class="form-control" value="1" min="1" step="1">
                  <label >From <span id="localCurrency"></span></label>      
                </div>      
                <div class="form-floating mb-3">      
                  <select id="exchangeRate" class="form-select">
                   <!-- Data is dynamically added here-->
                  </select>                  
                  <label for="exchangeRate">Convert to</label>      
                </div>      
                <div class="form-floating">      
                  <input id="toAmount" type="text" class="form-control" disabled>
                  <label for="toAmount">Result</label>      
                </div>      
              </form>      
            </div>      
            <div class="modal-footer">
              <button type="button" class="btn btn-outline-secondary btn-sm myBtn" data-bs-dismiss="modal">CLOSE</button>
            </div>      
          </div>      
        </div>      
      </div>

      <!-- Public holidays Modal-->

      <div id="publicHolidayModal" class="modal fade" data-bs-backdrop="false" data-bs-backdrop="false"  tabindex="-1" data-bs-backdrop="false" aria-labelledby="countryInfoModalLabel" aria-hidden="true">  
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">          
          <div class="modal-content shadow">            
            <div class="modal-header bg-info bg-gradient text-white">
              <h5 class="modal-title"><i class="fa-solid fa-sun fa-xl me-2"></i>Local Holidays</h5>
              <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>            
            <div class="modal-body">              
              <div id="pre-load"></div>              
              <table class="table table-striped">                
                    <tr>                    
                        <td class="text-start">Holiday</td>
                        <td class="text-start">Date</td>
                    <tr>
                        <td id="holidayName"></td>
                        <td id="holidayDate"></td>
                    </tr>
                    
                 </tr>

              </table>              
            </div>            
            <div class="modal-footer">
              <button type="button" class="btn btn-outline-success btn-sm" data-bs-dismiss="modal">Close</button>
            </div>            
          </div>          
        </div>        
      </div>
      
      
     <!-- Leaflet JS -->     
     <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
     integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
     crossorigin=""></script>

     <!-- Easy Button -->
     <script src="./node_modules/leaflet-easybutton/src/easy-button.js"></script>

     <!-- JS Imports  -->
     <script src="https://kit.fontawesome.com/113e030a4b.js" crossorigin="anonymous"></script>
     <script type="application/javascript" src="./node_modules/jquery/dist/jquery.min.js"></script>    
     <script src="./node_modules/@popperjs/"></script>
     <script src="./node_modules/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
     <script src="./node_modules/numeral/numeral.js"></script>
     <script src="./libraries/js/date.js"></script>
     <script src="vendors/Leaflet.markercluster-1.4.1/dist/leaflet.markercluster.js"></script>
     <script src="vendors/Leaflet.ExtraMarkers-master/dist/js/leaflet.extra-markers.min.js"></script>
     <script src="./node_modules/leaflet-easybutton/src/easy-button.js"></script>
     
     
     <script type="application/javascript" src="./libraries/js/script.js"></script> 
    
    </body>


</html>